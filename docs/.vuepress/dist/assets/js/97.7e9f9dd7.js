(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{291:function(e,t,a){"use strict";a.r(t);var o=a(2),r=Object(o.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"file-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#file-manager","aria-hidden":"true"}},[e._v("#")]),e._v(" File Manager")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.codacy.com/app/laravel-enso/FileManager?utm_source=github.com&utm_medium=referral&utm_content=laravel-enso/FileManager&utm_campaign=Badge_Grade",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://api.codacy.com/project/badge/Grade/6e342eff10f24db5b89be5fe203e424d",alt:"Codacy Badge"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://styleci.io/repos/85492361",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://styleci.io/repos/85492361/shield?branch=master",alt:"StyleCI"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/datatable",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/datatable/license",alt:"License"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/filemanager",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/filemanager/downloads",alt:"Total Downloads"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/filemanager",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/filemanager/version",alt:"Latest Stable Version"}}),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("File manager dependency for "),a("a",{attrs:{href:"https://github.com/laravel-enso/Enso",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Enso"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://laravel-enso.github.io/filemanager/videos/bulma_filemanager.mp4",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://laravel-enso.github.io/filemanager/screenshots/bulma_001_thumb.png",alt:"Watch the demo"}}),a("OutboundLink")],1)]),e._v(" "),a("p",[a("sup",[e._v("click on the photo to view a short demo in compatible browsers")])]),e._v(" "),a("h2",{attrs:{id:"features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#features","aria-hidden":"true"}},[e._v("#")]),e._v(" Features")]),e._v(" "),a("ul",[a("li",[e._v("provides a generic approach when working with files through using a "),a("code",[e._v("File")]),e._v(" model")]),e._v(" "),a("li",[e._v("package comes with a "),a("code",[e._v("HasFile")]),e._v(" trait that can be added to models who work with files")]),e._v(" "),a("li",[e._v("has utility classes for the upload, download, inline-opening and deletion of files")]),e._v(" "),a("li",[e._v("on upload, performs validation of the file and checks the extension and the mime type")]),e._v(" "),a("li",[e._v("handles the optimization and resize for the supported image file types")]),e._v(" "),a("li",[e._v("for upload and deletion, the changes are committed only if the filesystem operation was successful")]),e._v(" "),a("li",[e._v("works with a "),a("code",[e._v("FileUploader")]),e._v(" VueJS component that handles the selection of files and POSTs them to the specified route")]),e._v(" "),a("li",[e._v("uses a policy to restrict access/changes to files that don't belong to the respective user")]),e._v(" "),a("li",[e._v("provides a unified interface where you can view all the files you are working with, that you have access to, as well as search and filter them")]),e._v(" "),a("li",[e._v("the types of files that are visible in the interfaces are configurable")]),e._v(" "),a("li",[e._v("offers a configurable storage size limit")])]),e._v(" "),a("h2",{attrs:{id:"use"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use","aria-hidden":"true"}},[e._v("#")]),e._v(" Use")]),e._v(" "),a("p",[e._v("Out of the box, Laravel Enso already uses the file manager as required. For example,\nthe "),a("a",{attrs:{href:"https://github.com/laravel-enso/AvatarManager",target:"_blank",rel:"noopener noreferrer"}},[e._v("AvatarManager"),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"https://github.com/laravel-enso/DataImport",target:"_blank",rel:"noopener noreferrer"}},[e._v("DataImport"),a("OutboundLink")],1),e._v(" and"),a("br"),e._v(" "),a("a",{attrs:{href:"https://github.com/laravel-enso/DocumentsManager",target:"_blank",rel:"noopener noreferrer"}},[e._v("DocumentsManager"),a("OutboundLink")],1),e._v(" all use and depend on the common File Manager functionality.")]),e._v(" "),a("p",[e._v("To use any of the three packages above, you don't need to do any extra work under the hood.")]),e._v(" "),a("p",[e._v("Until now, you could not see all your files in one place or find out how much space they occupied,\nas you could have had files uploaded through the documents manager, attached to various models in different places in the app,\nimport files resulted out of your import operations and more.")]),e._v(" "),a("p",[e._v("You can now use the files menu to review, download search through and even delete them.")]),e._v(" "),a("p",[e._v("When adding or extending the file operations functionality it is strongly recommended that you use the "),a("code",[e._v("File")]),e._v(" model as well as the\naccompanying traits and classes - see more bellow.")]),e._v(" "),a("h3",{attrs:{id:"back-end-components"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#back-end-components","aria-hidden":"true"}},[e._v("#")]),e._v(" Back-End Components")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("File")]),e._v(" model:")]),e._v(" "),a("ul",[a("li",[e._v("holds some low-level properties pertaining to the file")]),e._v(" "),a("li",[e._v("uses a polymorphic relationship to link to any other model")]),e._v(" "),a("li",[e._v("a separate model instance is used for each file")]),e._v(" "),a("li",[e._v("should not be used directly but through its chaperone model")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("Attachable")]),e._v(" interface:")]),e._v(" "),a("ul",[a("li",[e._v("defines a series of methods that need to be implemented by the chaperone model (example: "),a("a",{attrs:{href:"https://github.com/laravel-enso/DocumentsManager/blob/master/src/app/Models/Document.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("Document"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("the methods have a default implementation found in the "),a("code",[e._v("HasFile")]),e._v(" trait")]),e._v(" "),a("li",[e._v("of course, if required, even if using the trait, the methods may be overridden for specific scenarios")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("HasFile")]),e._v(" trait:")]),e._v(" "),a("ul",[a("li",[e._v("provides a default implementation for the "),a("code",[e._v("Attachable")]),e._v(" interface")]),e._v(" "),a("li",[e._v("uses the "),a("code",[e._v("FileManager")]),e._v(" class when performing file operations")]),e._v(" "),a("li",[e._v("can optionally use a set of properties to perform additional operations")]),e._v(" "),a("li",[e._v("note that if you want to conditionally override a property value, or read it from the project configuration,\nyou will need to override the corresponding method")])]),e._v(" "),a("p",[e._v("Model properties:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("$folder")]),e._v(", string, if given, that "),a("code",[e._v("storage/app/")]),e._v(" folder is used for file operations | default is 'files'")]),e._v(" "),a("li",[a("code",[e._v("$mimeTypes")]),e._v(", array, if given, the mime types list is used to validate files against | default is []")]),e._v(" "),a("li",[a("code",[e._v("$extensions")]),e._v(", array, similar to mime types, is used for validation of the extension | default is []")]),e._v(" "),a("li",[a("code",[e._v("resizeImages")]),e._v(", array, if given, should contain the W-H values for resizing | default is []")]),e._v(" "),a("li",[a("code",[e._v("$optimizeImages")]),e._v(", boolean, if true, image optimization is performed | default is false")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("FileUploadException")]),e._v(":")]),e._v(" "),a("ul",[a("li",[e._v("is thrown when the any of the validations fail (file, extension, mime type)")])]),e._v(" "),a("p",[e._v("The Configuration:")]),e._v(" "),a("ul",[a("li",[e._v("within the "),a("code",[e._v("visible")]),e._v(" key, contains a list of models that should be visible in the Files menu.\nThe key will be used for the tab name while the fully qualified class name value is used to populated the list of files in the interface.")])]),e._v(" "),a("p",[e._v("For examples of using the FileManager package, take a look at any of the\n"),a("a",{attrs:{href:"https://github.com/laravel-enso/AvatarManager",target:"_blank",rel:"noopener noreferrer"}},[e._v("AvatarManager"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://github.com/laravel-enso/DataImport",target:"_blank",rel:"noopener noreferrer"}},[e._v("DataImport"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://github.com/laravel-enso/DocumentsManager",target:"_blank",rel:"noopener noreferrer"}},[e._v("DocumentsManager"),a("OutboundLink")],1),e._v(" packages.")]),e._v(" "),a("h3",{attrs:{id:"front-end-component"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#front-end-component","aria-hidden":"true"}},[e._v("#")]),e._v(" Front-End Component")]),e._v(" "),a("p",[e._v("The VueJS components have been extracted to the "),a("a",{attrs:{href:"https://github.com/laravel-enso/VueComponents",target:"_blank",rel:"noopener noreferrer"}},[e._v("VueComponents"),a("OutboundLink")],1),e._v(" package,\nyou may check the documentation "),a("a",{attrs:{href:"https://docs.laravel-enso.com/packages/vue-components.html#fileuploader",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("config/enso/files.php")]),e._v(" configuration file, lets you customize the following:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("visible")]),e._v(", key value array, a list of class-names for models that have files and should be present in the file manager list.")]),e._v(" "),a("li",[a("code",[e._v("storageLimit")]),e._v(", number, the storage size limit for the files functionality | default is "),a("code",[e._v("500000")])])]),e._v(" "),a("p",[e._v("Note: the 'visible' models need to implement the "),a("code",[e._v("VisibleFile")]),e._v(" interface, by providing an implementation for the "),a("code",[e._v("isDeletable")]),e._v(" method")]),e._v(" "),a("h2",{attrs:{id:"publishes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publishes","aria-hidden":"true"}},[e._v("#")]),e._v(" Publishes")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("php artisan vendor:publish --tag=filemanager-assets")]),e._v(" - the JS asset files")]),e._v(" "),a("li",[a("code",[e._v("php artisan vendor:publish --tag=enso-assets")]),e._v(" - a common alias for when wanting to update the JS assets,\nonce a newer version is released")]),e._v(" "),a("li",[a("code",[e._v("php artisan vendor:publish --tag=enso-config")]),e._v(" - a common alias for when wanting to update the configuration files,\nonce a newer version is released")]),e._v(" "),a("li",[a("code",[e._v("php artisan vendor:publish --tag=filemanager-config")]),e._v(" - publishes the file manager configuration file")])]),e._v(" "),a("h2",{attrs:{id:"notes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notes","aria-hidden":"true"}},[e._v("#")]),e._v(" Notes")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/laravel-enso/Core",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Enso Core"),a("OutboundLink")],1),e._v(" package comes with this package included.")]),e._v(" "),a("p",[e._v("Depends on:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/laravel-enso/VueComponents",target:"_blank",rel:"noopener noreferrer"}},[e._v("VueComponents"),a("OutboundLink")],1),e._v(" for the accompanying VueJS components")])])])},[],!1,null,null,null);t.default=r.exports}}]);