(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{283:function(e,t,a){"use strict";a.r(t);var s=a(2),r=Object(s.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"addresses-manager"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#addresses-manager","aria-hidden":"true"}},[e._v("#")]),e._v(" Addresses Manager")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://styleci.io/repos/113445673",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://styleci.io/repos/113445673/shield?branch=master",alt:"StyleCI"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://www.codacy.com/app/mihai-ocneanu/AddressesManager?utm_source=github.com&utm_medium=referral&utm_content=laravel-enso/AddressesManager&utm_campaign=Badge_Grade",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://api.codacy.com/project/badge/Grade/1bd97370791b452f977c70e9ae39c72c",alt:"Codacy Badge"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/addressesmanager",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/addressesmanager/license",alt:"License"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/addressesmanager",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/addressesmanager/downloads",alt:"Total Downloads"}}),a("OutboundLink")],1),e._v(" "),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/addressesmanager",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/addressesmanager/version",alt:"Latest Stable Version"}}),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("Free-form addresses manager for "),a("a",{attrs:{href:"https://github.com/laravel-enso/Enso",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Enso"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://laravel-enso.github.io/addressesmanager/screenshots/bulma_041.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://laravel-enso.github.io/addressesmanager/screenshots/bulma_041_thumb.png",alt:"Screenshot"}}),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://laravel-enso.github.io/addressesmanager/screenshots/bulma_042.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://laravel-enso.github.io/addressesmanager/screenshots/bulma_042_thumb.png",alt:"Screenshot"}}),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#features","aria-hidden":"true"}},[e._v("#")]),e._v(" Features")]),e._v(" "),a("ul",[a("li",[e._v("can be used to attach addresses to any entity, via a polymorphic relationship")]),e._v(" "),a("li",[e._v("allows saving of multiple addresses for an addresable entity")]),e._v(" "),a("li",[e._v("features and easy flow for setting the default address")]),e._v(" "),a("li",[e._v("comes with an additional table for Countries, with all the countries pre-populated")]),e._v(" "),a("li",[e._v("brings its own free-form form for the edit and creation of addresses")]),e._v(" "),a("li",[e._v("has a publishable configuration file where you can customize the module to your liking")]),e._v(" "),a("li",[e._v("comes with its own VueJS component "),a("code",[e._v("addresses")])]),e._v(" "),a("li",[e._v("includes an "),a("code",[e._v("Addressable")]),e._v(" trait, for defining relationships and attributes")]),e._v(" "),a("li",[e._v("the VueJS component as well as the whole package is designed to be extendable,\nso you could create custom versions for specific countries")])]),e._v(" "),a("h2",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),a("ol",[a("li",[e._v("the configuration should be published, and inside you need to define the addresable types")]),e._v(" "),a("li",[e._v("use the package's "),a("code",[e._v("Addresable")]),e._v(" trait for the models you want to make addressable")]),e._v(" "),a("li",[e._v("insert the "),a("code",[e._v("Addreses")]),e._v(" vue component where required in your pages/components. The "),a("code",[e._v("id")]),e._v(" and "),a("code",[e._v("type")]),e._v(" parameters are\nthe essential ones.")])]),e._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("addresses")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v(":id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("modelId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("modelClass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("addresses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),a("h2",{attrs:{id:"options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options","aria-hidden":"true"}},[e._v("#")]),e._v(" Options")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("id")]),e._v(" - number, the id of the addressable model | required")]),e._v(" "),a("li",[a("code",[e._v("type")]),e._v(" - string, the addressable model alias you set in the config | required")]),e._v(" "),a("li",[a("code",[e._v("query")]),e._v(" - string, the text for searching in the addresses | default "),a("code",[e._v("''")]),e._v(" | (optional)")]),e._v(" "),a("li",[a("code",[e._v("controls")]),e._v(" - boolean, flag for showing the controls for the component, such as the buttons for creating a new address,\nreloading the list of addresses, etc. | default"),a("code",[e._v("false")]),e._v(" | (optional)")])]),e._v(" "),a("h2",{attrs:{id:"customization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#customization","aria-hidden":"true"}},[e._v("#")]),e._v(" Customization")]),e._v(" "),a("p",[e._v("If you need to customize the form, you may publish it. Also, you may mark any form fields as custom\nand customize them in you page, using slots (like for the VueForm).")]),e._v(" "),a("p",[e._v("If you need to customize the address card, you may also pass a different template using the 'address' slot,\nprovided for this purpose.")]),e._v(" "),a("p",[e._v("As an example of such customization, you may take a look at the\n"),a("a",{attrs:{href:"https://github.com/laravel-enso/RoAddresses",target:"_blank",rel:"noopener noreferrer"}},[e._v("RoAddresses"),a("OutboundLink")],1),e._v(" package")]),e._v(" "),a("h2",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),a("p",[e._v("Inside the "),a("code",[e._v("config/enso/addresses.php")]),e._v(" file, you'll find several customization options:")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("onDelete")]),e._v(", string, option that manages the case when the commentable entity is deleted and it has attached discussions.\nValid options are "),a("code",[e._v("cascade")]),e._v(", "),a("code",[e._v("restrict")]),e._v(" | default is "),a("code",[e._v("cascade")])]),e._v(" "),a("p",[e._v("With the cascade option, when a discussable model is deleted, the discussions attached to it are also deleted.\nWith the restrict option,  when attempting to delete a discussable model with attached discussions, an exception is thrown.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("formTemplate")]),e._v(", the path to a local, custom JSON template for the address form")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("loggableMorph")]),e._v(", the list of entities using the addressable functionality, each mapped to its respective loggable attribute\nFor example:")])])]),e._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[e._v("'addressable'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    Company"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[e._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n")])])]),a("ul",[a("li",[a("code",[e._v("streetTypes")]),e._v(", the list of street types shown in the form's street type select")]),e._v(" "),a("li",[a("code",[e._v("buildingTypes")]),e._v(", same as above, for buildings")]),e._v(" "),a("li",[a("code",[e._v("label")]),e._v(", label configuration options:\n"),a("ul",[a("li",[a("code",[e._v("separator")]),e._v(", the separator used when composing labels, default "),a("code",[e._v("-")])]),e._v(" "),a("li",[a("code",[e._v("attributes")]),e._v(", the list of attributes used for the label, default: "),a("code",[e._v("'localityName', 'street', 'number'")])])])])]),e._v(" "),a("h2",{attrs:{id:"extending-the-addresses"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extending-the-addresses","aria-hidden":"true"}},[e._v("#")]),e._v(" Extending the addresses")]),e._v(" "),a("p",[e._v("In your project you may have the need to alter and or extend the addresses structure by adding/removing table columns.\nTo achieve this, you'd need to:")]),e._v(" "),a("ul",[a("li",[e._v("add migration(s) to your local project, making the necessary changes. Note that if using sqlite for testing,\nsome of the migration commands may not be available")]),e._v(" "),a("li",[e._v("create a new template for the addresses form, and declare it in the config ("),a("code",[e._v("formTemplate")]),e._v(")")]),e._v(" "),a("li",[e._v("create a new request validation, ensuring it implements the "),a("code",[e._v("ValidatesAddressRequest")]),e._v(" marker interface.\nBind your local implementation to the interface in your local "),a("code",[e._v("AppServiceProvider")])]),e._v(" "),a("li",[e._v("if needed, customize the "),a("code",[e._v("address-card")]),e._v(" VueJS component by passing your own template in "),a("code",[e._v("address")]),e._v(" slot.")])]),e._v(" "),a("h2",{attrs:{id:"commands"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commands","aria-hidden":"true"}},[e._v("#")]),e._v(" Commands")]),e._v(" "),a("p",[e._v("The package comes with the following artisan commands, to help you migrate from previous versions to 2.1.28+,")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("php artisan enso:migrate --buildingType")]),e._v(", introduces a new column, "),a("code",[e._v("addresses.building_type")])]),e._v(" "),a("li",[a("code",[e._v("php artisan enso:migrate --countries")]),e._v(", introduces new columns to the "),a("code",[e._v("countries")]),e._v(" table and re-populates data.\nNote this is a breaking change!")])]),e._v(" "),a("p",[e._v("Both these changes are run automatically after the package install.")]),e._v(" "),a("h2",{attrs:{id:"publishes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publishes","aria-hidden":"true"}},[e._v("#")]),e._v(" Publishes")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("php artisan vendor:publish --tag=addresses-config")]),e._v(" - configuration file")]),e._v(" "),a("li",[a("code",[e._v("php artisan vendor:publish --tag=addresses-form")]),e._v(" - form used for creating/editing addresses")]),e._v(" "),a("li",[a("code",[e._v("php artisan vendor:publish --tag=enso-config")]),e._v(" - a common alias for when wanting to update the config,\nonce a newer version is released, usually used with "),a("code",[e._v("--force")])]),e._v(" "),a("li",[a("code",[e._v("php artisan vendor:publish --tag=addresses-assets")]),e._v(" - the VueJS components")]),e._v(" "),a("li",[a("code",[e._v("php artisan vendor:publish --tag=enso-assets")]),e._v(" - a common alias for when wanting to update the VueJS components,\nonce a newer version is released, usually used with "),a("code",[e._v("--force")])])]),e._v(" "),a("h2",{attrs:{id:"notes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notes","aria-hidden":"true"}},[e._v("#")]),e._v(" Notes")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/laravel-enso/Core",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Enso Core"),a("OutboundLink")],1),e._v(" package comes with this package included.")])])},[],!1,null,null,null);t.default=r.exports}}]);