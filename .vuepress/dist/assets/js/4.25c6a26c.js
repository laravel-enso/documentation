(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{145:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),a("p",[a("a",{attrs:{href:"https://www.codacy.com/app/laravel-enso/ActionLogger?utm_source=github.com&utm_medium=referral&utm_content=laravel-enso/ActionLogger&utm_campaign=Badge_Grade",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://api.codacy.com/project/badge/Grade/dc3819bf2c654b3d8dcaaed8898b214f",alt:"Codacy Badge"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://styleci.io/repos/85554059",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://styleci.io/repos/85554059/shield?branch=master",alt:"StyleCI"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/activitylog",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/activitylog/license",alt:"License"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/activitylog",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/activitylog/downloads",alt:"Total Downloads"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://packagist.org/packages/laravel-enso/activitylog",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-enso/activitylog/version",alt:"Latest Stable Version"}}),a("OutboundLink")],1)]),a("p",[t._v("Activity logger dependency for "),a("a",{attrs:{href:"https://laravel-enso.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Laravel Enso"),a("OutboundLink")],1),t._v(".")]),a("p",[t._v("This package works exclusively within the "),a("a",{attrs:{href:"https://github.com/laravel-enso/Enso",target:"_blank",rel:"noopener noreferrer"}},[t._v("Enso"),a("OutboundLink")],1),t._v(" ecosystem.")]),a("p",[t._v("The front end assets that utilize this api are present in the "),a("a",{attrs:{href:"https://github.com/enso-ui/ui",target:"_blank",rel:"noopener noreferrer"}},[t._v("ui"),a("OutboundLink")],1),t._v(" package.")]),a("p",[t._v("For live examples and demos, you may visit "),a("a",{attrs:{href:"https://www.laravel-enso.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("laravel-enso.com"),a("OutboundLink")],1)]),a("p",[a("a",{attrs:{href:"https://laravel-enso.github.io/activitylog/videos/bulma_activity_log.mp4",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://laravel-enso.github.io/activitylog/screenshots/bulma_051_thumb.png",alt:"Watch the demo"}}),a("OutboundLink")],1)]),t._m(1),t._m(2),a("p",[t._v("Comes pre-installed in Enso.")]),t._m(3),t._m(4),t._m(5),t._m(6),a("p",[t._v("By default, for each entry:")]),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),a("p",[t._v("Also, the label may be declared through a relationship, on a related model. For example:")]),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),a("p",[t._v("Note: when updating a model, if none of the tracked attributes are updated, no entry is recorded even if the tracked model is otherwise updated.")]),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),t._m(25),a("p",[t._v("The class and the model attribute values are used to follow through a relationship on the loggable model, and retrieve the\ngiven attribute's value on the related model.")]),t._m(26),t._m(27),a("p",[t._v("The method takes 2 parameters:")]),t._m(28),t._m(29),a("p",[t._v("Please note:")]),t._m(30),t._m(31),a("p",[t._v("are welcome. Pull requests are great, but issues are good too.")]),t._m(32),a("p",[t._v("This package is released under the MIT license.")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"activity-log"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#activity-log","aria-hidden":"true"}},[this._v("#")]),this._v(" Activity Log")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("sup",[this._v("click on the photo to view a short demo in compatible browsers")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"features"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#features","aria-hidden":"true"}},[this._v("#")]),this._v(" Features")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("friendly interface for viewing user activity in the application")]),a("li",[t._v("available by default only to users with the Administrator role")]),a("li",[t._v("events are presented in an useful manner")]),a("li",[t._v("allows the filtering of data depending on a date interval, the roles of the users, the users or the type of events")]),a("li",[t._v("supports create, update, delete and custom event types")]),a("li",[t._v("the models whose changes need to represented, need only to use the "),a("code",[t._v("LogsActivity")]),t._v(" trait. Optionally,\nyou may set additional configuration attributes on the model to further fine tune the way data is logged/represented")]),a("li",[t._v("the logger will not attempt to persist data when there is no authenticated user - this avoids issues when\nusing seeder / playing in tinker, etc.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[this._v("#")]),this._v(" Usage")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In order to enable the logging for a particular model, you need to add the "),e("code",[this._v("LogsActivity")]),this._v(" trait to that model.\nBy doing this, creation and deletion events are recorded (update events are not).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("the model's "),e("code",[this._v("name")]),this._v(" attribute will be used as label")]),e("li",[this._v("the proper event type will be used i.e. 'created' when storing a new model")]),e("li",[this._v("no specific message is used")]),e("li",[this._v("no specific icon is used")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"customization"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customization","aria-hidden":"true"}},[this._v("#")]),this._v(" Customization")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"changing-the-model-representation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changing-the-model-representation","aria-hidden":"true"}},[this._v("#")]),this._v(" Changing the model representation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Since not all models have a "),e("code",[this._v("name")]),this._v(" attribute,\nor it makes sense to use some other attribute to better represent a certain model type,\nyou may declare a "),e("code",[this._v("$loggableLabel")]),this._v(" on the model, and set the value to be used as label.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$loggableLabel")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$loggableLabel")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'person.name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("where "),e("code",[this._v("person")]),this._v(" is an existing relationship on this model. In such cases, the logging mechanism will actually follow\nthrough the relationship(s) until it is able to load the given label attribute.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"logging-update-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#logging-update-events","aria-hidden":"true"}},[this._v("#")]),this._v(" Logging update events")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To enable the tracking of update events, you must declare a "),e("code",[this._v("$loggable")]),this._v(" attribute on the model.\nThe value of the attribute should be an array of model attributes that you want tracked.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$loggable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'description'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'is_active'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'gender'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Genders"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"customizing-label-attributes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customizing-label-attributes","aria-hidden":"true"}},[this._v("#")]),this._v(" Customizing label attributes")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Normally it is enough to give a simple list of tracked attributes, in which case the attribute names themselves will be used to describe them.\nTo customize the label for any of the tracked attribute you should use an associative\n"),e("code",[this._v("key => value")]),this._v(" declaration style. In this case, the key is the tracked model's attribute and the value should be the alternative label for that attribute.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$loggable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'description'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'is_active'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'active state'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"enum-label-attributes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enum-label-attributes","aria-hidden":"true"}},[this._v("#")]),this._v(" Enum label attributes")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You may also give an enum as the value of a "),e("code",[this._v("key => value")]),this._v(" pair when using this key-value declaration style. In such cases,\nthe enum will be used to process the stored values and present more human readable values.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$loggable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'description'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'is_active'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'gender'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Genders"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"relationship-label-attributes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#relationship-label-attributes","aria-hidden":"true"}},[this._v("#")]),this._v(" Relationship label attributes")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You may also give an array as the value of a "),e("code",[this._v("key => value")]),this._v(" pair when using this key-value declaration style. In such cases,\nthe array is expected to further contain a "),e("code",[this._v("key => value")]),this._v(" pair with a class name as key and a model attribute as the value.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$loggable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'group_id'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("UserGroup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"generating-custom-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#generating-custom-events","aria-hidden":"true"}},[this._v("#")]),this._v(" Generating custom events")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Because you may want to generate custom events, the trait provides a public "),e("code",[this._v("logEvent")]),this._v(" method for this purpose,\nthat may be called on the model.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("$message")]),this._v(", which is required and should meaningfully describe the event")]),e("li",[e("code",[this._v("$flag")]),this._v(", which is optional and if given, should be a Font Awesome icon class, to be used for the custom event")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$company")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Company"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$company")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'triggered my custom action'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'beer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("the given icon should be available (imported)")]),e("li",[this._v("if no icon is given, the flag icon is used by default")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"contributions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#contributions","aria-hidden":"true"}},[this._v("#")]),this._v(" Contributions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[this._v("#")]),this._v(" License")])}],!1,null,null,null);e.default=r.exports}}]);